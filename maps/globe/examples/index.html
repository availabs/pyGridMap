<!DOCTYPE html>
<html>
<head>
	<title>Grid Map</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="../src/globe.css" />
	<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.js'></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.20/topojson.min.js"></script>

	<script src="../src/globe.js" charset="utf-8"></script>

<style>
.content {
	width:100%;
	height: 100%;
	display:flex;
}
.controls{
  width: 300px;
  background-color: #ccc;
  display:absolute;
  top:0;
  left:0;

}
.globe {
	border: 1px solid yellow;
	width:100%;
	height: 100%;
	
}
</style>
</head>
<body>
<div class='content'>
	 <div class='controls'>
	 	
	 	
	 </div>
	 <div class='globe'>
	 </div>
</div>


<script>

	d3.json('http://localhost:5000/grids/500/1979/09/18/00', function(err,data){
		globe.init('.globe',{projection:'orthoginal'})
		
		var funscale = d3.scale.linear().domain(
			[
				d3.min(data.data), 
				d3.max(data.data)
			]).range([-100, 100])
		data.data = data.data.map(function(d){
			return funscale(d);
		})
		globe.drawCanvas(data);
		
		// var options = {
		// 	'stroke': 'blue',
		// 	'fill': function(d, i) {
		// 		return d.properties.color
		// 	}
		// }
		// globe.drawGeoJson(data, options)
	})
</script>
</body>
</html>
